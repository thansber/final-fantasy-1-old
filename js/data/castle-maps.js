define(
/* CastleMapData */
["map-config", "map-coords-absolute", "map-tile", "constants/map", "constants/movement"], 
function(MapConfig, MapCoordsAbsolute, MapTile, MapConstants, MovementConstants) {
  
  var baseMapping = {
    " " : MapTile.create({cssClasses:"grass", passableUsing:[MovementConstants.Transportation.Foot]}),
    "." : MapTile.create({cssClasses:"road", passableUsing:[MovementConstants.Transportation.Foot]}),
    "a" : MapTile.create({cssClasses:"stool right", passableUsing:[MovementConstants.Transportation.Foot]}),
    "b" : MapTile.create({cssClasses:"stool left", passableUsing:[MovementConstants.Transportation.Foot]}),
    "c" : MapTile.create({cssClasses:"chest"}),
    "p" : MapTile.create({cssClasses:"pillar"}),
    "r" : MapTile.create({cssClasses:"room", passableUsing:[MovementConstants.Transportation.Foot]}),
    "t" : MapTile.create({cssClasses:"table top"}),
    "u" : MapTile.create({cssClasses:"table bottom"}),
    "B" : MapTile.create({cssClasses:"bed top"}),
    "C" : MapTile.create({cssClasses:"bed bottom"}),
    "D" : MapTile.create({cssClasses:"door", passableUsing:[MovementConstants.Transportation.Foot]}),
    "J" : MapTile.create({cssClasses:"room wall tl"}),
    "K" : MapTile.create({cssClasses:"room wall top"}),
    "L" : MapTile.create({cssClasses:"room wall tr"}),
    "M" : MapTile.create({cssClasses:"room wall left"}),
    "N" : MapTile.create({cssClasses:"room wall right"}),
    "O" : MapTile.create({cssClasses:"room wall bl"}),
    "P" : MapTile.create({cssClasses:"room wall bottom", passableUsing:[MovementConstants.Transportation.Foot]}),
    "Q" : MapTile.create({cssClasses:"room wall br"}),
    "T" : MapTile.create({cssClasses:"throne", hasCorners:true, hasSides:true, borderTile:"T"}),
    "U" : MapTile.create({cssClasses:"wall left"}),
    "V" : MapTile.create({cssClasses:"wall road left"}),
    "W" : MapTile.create({cssClasses:"wall"}),
    "X" : MapTile.create({cssClasses:"wall road right"}),
    "Y" : MapTile.create({cssClasses:"wall right"}),
    "<" : MapTile.create({cssClasses:"stairs down", passableUsing:[MovementConstants.Transportation.Foot]}),
    ">" : MapTile.create({cssClasses:"stairs up", passableUsing:[MovementConstants.Transportation.Foot]}),
    "]" : MapTile.create({cssClasses:"statue right"}),
    "[" : MapTile.create({cssClasses:"statue left"}),
    "%" : MapTile.create({cssClasses:"fireplace"})
  };
  
  var init = function() {
    MapConfig.create({id:MapConstants.CONERIA_CASTLE, numTilesets:1, height:30, width:29, 
                      start:MapCoordsAbsolute.create({y:28, x:14}), exitOnOutOfBounds:true, hasBattles:false})
             .setMapping(baseMapping)
             .addTileset(["UWWWWWWWWWWWWY.UWWWWWWWWWWWWY",
                          "V...........................X",
                          "V.UWWWY      ...      UWWWY.X",
                          "V.V...XWWWWWW...WWWWWW....X.X",
                          "V.V...X...................X.X",
                          "V.V...XWWWWYJKKKLJKKKLV...X.X",
                          "V.WU.YW....XMcccNMcccNWW.YW.X",
                          "V. V.X..WWWYMrrrNMrrrN...X .X",
                          "V. V.X.....XOPPPQOPPPQ...X .X",
                          "V. V.X.....XWWDWWWWDWW.p.X .X",
                          "V. V.X.....X.............X .X",
                          "V. V.......X...........p.X .X",
                          "V. V.XWWWWWWWWWWWWWWWWV..X .X",
                          "V. V.X........>.......WWWY .X",
                          "V. V........p...p........X .X",
                          "V. V.....................X .X",
                          "V. V..JKKKL.p...p.JKKKL..X .X",
                          "V. V..M]%[N.......M]%[N..X .X",
                          "V. V..MrBrN.p...p.MatbN..X .X",
                          "V. V..MrCaN.......MaubN..X .X",
                          "V. V..MrraN.p...p.MrrrN..X .X",
                          "V. V..OPPPQ.......OPPPQ..X .X",
                          "V.UWW.WWDWY.p...p.WWDWW...Y.X",
                          "V.V.......X...............X.X",
                          "V.V...XWWWWW.....WWWWWV...X.X",
                          "V.V...X      ...      V...X.X",
                          "V.WWWWW     .....     WWWWW.X",
                          "V...........................X",
                          "WWWWWWWWWWWWV...XWWWWWWWWWWWW",
                          "            V...X            ",
                          "            WW.WW            "]);
    
    MapConfig.create({id:MapConstants.CONERIA_CASTLE_2F, numTilesets:1, height:30, width:25, 
                      start:MapCoordsAbsolute.create({y:28, x:14}), hasBattles:false})
             .setMapping($.extend({}, baseMapping, {
               " " : MapTile.create({cssClasses:"none"}),
               "." : MapTile.create({cssClasses:"road", passableUsing:[MovementConstants.Transportation.Foot]})
              }))
             .addTileset(["      JKKKKKKKKKKKL      ",
                          "      MrrrrTTTrrrrN      ",
                          "      Mrr]]TTT[[rrN      ",
                          "      OPrrrrrrrrrPQ      ",
                          "      WWMrrrrrrrNWW      ",
                          "        OPPPPPPPQ        ",
                          "        WUWWDWWYW        ",
                          "         V.....X         ",
                          "         V.....X         ",
                          "         V.p.p.X         ",
                          "         V.....X         ",
                          "         V.p.p.X         ",
                          "         V.....X         ",
                          "         V.p.p.X         ",
                          "         V.....X         ",
                          "         V.....X         ",
                          "         V..<..X         ",
                          "         WV...XW         ",
                          "          V...X          ",
                          "          Vp.pX          ",
                          "          V...X          ",
                          "          Vp.pX          ",
                          "          V...X          ",
                          "          Vp.pX          ",
                          "          V...X          ",
                          "UWWWWY    V...X    UWWWWY",
                          "V.....WWWW.....WWWW.....X",
                          "V.......................X",
                          "V....XWWWWWWWWWWWWWV....X",
                          "WWWWWW             WWWWWW"]);
  
    MapConfig.create({id:MapConstants.ELF_CASTLE, numTilesets:1, height:33, width:27, 
                      start:MapCoordsAbsolute.create({y:28, x:14}), exitOnOutOfBounds:true, hasBattles:false})
             .setMapping(baseMapping)
             .addTileset(["                     ..... ", 
                          "UWWWY       UWWWY  .JKKKKL.",
                          "V....WWWWWWW....X ..MccccN.",
                          "V.p...........p.X ..OPPPPQ.",
                          "V...XJKKKKKLV...X ..WDWWWW.",
                          "WU.YJrr]%[rrLU.YW  ....... ",
                          " V.XMrrrBarrNV.X    .....  ",
                          " V.XMrrrCrrrNV.X           ",
                          " V.XMrrrrrrrNV.X     UWWWY ",
                          " V.XM]rrrrr[NU.WWWWWW....X ",
                          " V.XOPPPPPPPQV.........p.X ",
                          " V.XWWWWDWWWYWWWWWW.WV...X ",
                          " V.X...p.p..X        WU.YW ",
                          "UW.WY.......X         V.X  ",
                          "V....W.WV..WWWWWWWWWWW..X  ",
                          "V.p.....V...............X  ",
                          "V...XWWWV.XWWWY...UWWWV.X  ",
                          "WW.WW   V.X...X...V...V.X  ",
                          "        V.X...........V.X  ",
                          "        V.X...X...V...V.X  ",
                          "        V.XWWWW...WWWWV.X  ",
                          "        V.X    ...    V.X  ",
                          "        V.X   p...p   V.X  ",
                          "        V.X  p.....p  V.X  ",
                          "        V.X  .......  V.X  ",
                          "        V.X  p.....p  V.X  ",
                          "        V.X   p...p   V.X  ",
                          "       UW.WY   ...   U...Y ",
                          "       V....WW ... WW....X ",
                          "       V.p.... ... ....p.X ",
                          "       V...XWW ... WWV...X ",
                          "       WWWWW   ...   WWWWW ",
                          "               ...         "]);
  
    MapConfig.create({id:MapConstants.ASTOS_CASTLE, numTilesets:1, height:25, width:31, 
                      start:MapCoordsAbsolute.create({y:28, x:14}), exitOnOutOfBounds:true, hasBattles:true})
             .setMapping(baseMapping)
             .addTileset(["  UWY  UWWWWWUWWWY        UWY  ",
                          " U...Y V.........XWWWY   U...Y ",
                          "U.....WV..............WWW.....Y",
                          "V.  ...V.....V...X............X",
                          "W  ....V.....JKKKL...X.WWV...XW",
                          "  ..XW.Y.JKKKrTTTrKKKL   WV.XW ",
                          "  U.Y..X Orrr]TTT[rrrQ    U.Y  ",
                          "  V....X WOr]rrrrr[rQWWWW.V.X  ",
                          "  .....X  WOr]rrr[rQY.....V.X  ",
                          "  V.X..X   WOr]r[rQWX.p.p.V.X  ",
                          "  V.XW.W    WOPPPQW.......V..  ",
                          "  V.X........WUDYW..X.p.p....  ",
                          "  V.X..JKKKL..V.X...X.....V..  ",
                          "   .X.JcrrrcL.V.XW.WY.p.p.V..  ",
                          "    X.MrrcrrN.V.X...X.....V.X  ",
                          "  V.X.OrrrrrQ.V.....X.p.p...X  ",
                          "  V.X.WOPPPQW.V...........V..  ",
                          "  U.Y..WWDWW..V.X.....p.p.V.X  ",
                          " U...Y.......U...Y.......U...Y ",
                          "U.....YWW.WWU.....Y..WW.W.....Y",
                          "V.....X.....V.....X...........X",
                          "WV...XWW...WWV...XWWV.XWWV...XW",
                          " WV.XW       WV.XW  V.X  WV.XW ",
                          "  W.W         WWW   V.X   W.W  ",
                          "                    W.W        "]);
  };
  
  return {
    init : init
  };
});